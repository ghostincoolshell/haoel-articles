---
layout: post
title: erlang打包独立环境
date: 2010/3/3/ 18:55:13
updated: 2010/3/3/ 18:55:13
status: publish
published: true
type: post
---

最近公司代码需要在非erlang的系统上执行，需要能在独立的环境里运行erlang。研究甚久，于是写下这篇博文。国内用erlang的朋友不多，希望这篇blog能对有需要的朋友起到参考作用。



> Application-Vsn/ebin  
> 
> /include  
> 
> /priv  
> 
> /src  
> 
> /Application-Vsn.rel
> 
> 


以上是代码的目录表.



> {release, {“nextim”, “2.0”},  
> 
> {erts, “5.7.5”},  
> 
> [{kernel, “2.12.3”},  
> 
> {stdlib, “1.15.3”},  
> 
> {sasl, “2.1.5.3”}]  
> 
> }.
> 
> 


以上是Application-Vsn.rel的内容,[]中是代码本身需要的lib。



1.执行erl -pa ./ebin . 这一步会生成nextim-2.boot文件



> 1> systools:make\_script(nextim-2″, [local]).  
> 
> ok
> 
> 


2.erl -boot nextim-2 . 这一步会生成nextim-2.tar.gz



> systools:make\_tar(“nextim-2”).
> 
> 


3.现在建议把tar.gz文件放到独立的路径里 这样不会影响Application-Vsn文件夹 ，然后解压 并进入目录， 复制erlang系统目录里的 erts-5.7.5 到当前目录


4.建立bin文件夹 复制  `erts-5.7.5/bin/start` 到 `bin/ 编辑 bin/start 改 ROOTDIR为当前目录的路径`


5.复制`erts-5.7.5/bin/run_erl` `和` `erts-5.7.2/bin/erl` `到 bin 并且如同上一步一样修改ROOTDIR.`


6.复制 `$ERLDIR/bin/start_sasl.boot` 到  `bin/start.boot`.


7. `echo` `"5.7.5` `2.0"` `>` `releases/start_erl.data`.


6.执行bin文件里的erl



> release\_handler:create\_RELEASES(“$ROOTDIR”, “$ROOTDIR/releases/”, “$ROOTDIR/releases/nextim-2.rel”, []).
> 
> 


7.再把自己的项目文件复制到lib中  然后启动时 -pa参数是 lib文件夹. 完成这一步，就能独立出erlang环境了。


以上内容 参考自


http://spawnlink.com/articles/an-introduction-to-releases-with-erlybank/


http://streamhacker.com/2009/07/02/how-to-create-an-erlang-first-target-system/



**（转载本站文章请注明作者和出处 [酷 壳 – CoolShell](https://coolshell.cn/) ，请勿用于任何商业用途）**



### 相关文章

* [![编程语言汽车](../wp-content/uploads/2009/11/oscar-meyer-wienermobile-150x150.jpg)](https://coolshell.cn/articles/1839.html)[编程语言汽车](https://coolshell.cn/articles/1839.html)
* [https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/30.jpg](https://coolshell.cn/articles/1516.html)[mochiweb参数化模型Req相关功能](https://coolshell.cn/articles/1516.html)
* [https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/2.jpg](https://coolshell.cn/articles/1313.html)[Erlang和Python互通](https://coolshell.cn/articles/1313.html)
* [https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/7.jpg](https://coolshell.cn/articles/4077.html)[纯文本配置还是注册表](https://coolshell.cn/articles/4077.html)
* [![MySQL性能优化的最佳20+条经验](../wp-content/uploads/2009/11/unoptimized_explain-150x150.jpg)](https://coolshell.cn/articles/1846.html)[MySQL性能优化的最佳20+条经验](https://coolshell.cn/articles/1846.html)
* [https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/1.jpg](https://coolshell.cn/articles/4535.html)[一些软件设计的原则](https://coolshell.cn/articles/4535.html)
The post [erlang打包独立环境](https://coolshell.cn/articles/2111.html) first appeared on [酷 壳 - CoolShell](https://coolshell.cn).